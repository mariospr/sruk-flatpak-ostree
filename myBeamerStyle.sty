\ProvidesPackage{myBeamerStyle}
\typeout{My own custom style for Beamer slides}

%%                                    %%
%% Paquetes para incluir por defecto  %%
%%                                    %%
\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{xspace}
\usepackage[]{tikz}
\usepackage[export]{adjustbox}

%%                                    %%
%% Paquetes utilizados                %%
%%                                    %%
\usepackage{palatino}
% Theme
\usetheme{Warsaw}
\useinnertheme{rounded}
\usefonttheme{structurebold}

\usepackage{graphics}
\usepackage{listings}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{colortbl}
\usepackage{eurosym}
\usepackage{fancybox}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% beamer options                      %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \beamertemplateshadingbackground{blue!10}{white!10}
\beamertemplateballitem
\setbeamercovered{invisible}
% \setbeamercovered{transparent}
\setbeamertemplate{blocks}[rounded][shadow=true]
\setbeamertemplate{headline}{}
\setbeamertemplate{navigation symbols}{}
% \setbeamertemplate{footline}{}

%   \setbeamertemplate{headline}
%   {%
%     \leavevmode%
%     \hbox{\begin{beamercolorbox}[wd=.5\paperwidth,ht=2.5ex,dp=1.125ex,leftskip=.3cm plus1fill,rightskip=.3cm]{section in head/foot}%
%       \usebeamerfont{author in head/foot}\insertsectionhead
%     \end{beamercolorbox}%
%     \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.5ex,dp=1.125ex,leftskip=.3cm,rightskip=.3cm plus1fil]{title in head/foot}%
%       \usebeamerfont{subsection in head/foot}\insertsubsectionhead
%     \end{beamercolorbox}}%
%     \vskip2pt%
%   }

%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Logo in the SE corner  %
%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setbeamertemplate{sidebar left}{
  \vfill
  \rlap{
    \hskip1.065\textwidth{\includegraphics[width=0.1\textwidth]{images/Endless_logo.pdf}}
  }
  \vskip0pt \ \vskip0pt
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Definición de comandos             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\definecolor{cAzul}{rgb}{0.00,0.00,0.80}
\definecolor{cFondo1}{rgb}{0.85,0.85,1.00}
\definecolor{cFondo2}{rgb}{0.72,0.72,0.93}
\definecolor{darkgreen}{rgb}{0,0.388,0}
\definecolor{orange}{rgb}{1,0.4,0}
\definecolor{lightblue}{rgb}{0,0.6,1}
\definecolor{lightgreen}{rgb}{0.4,0.8,0.2}

\newcommand{\vspacing}{\vspace*{5pt}}
\newcommand{\flatpak}{\textit{flatpak}\xspace}
\newcommand{\ostree}{\textit{OSTree}\xspace}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Definición de entornos             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newenvironment{checkenv}{\only{\useitemizeitemtemplate{X}}}{}
\newenvironment{ejemplo}{\begin{multicols}{2}}{\end{multicols}}
\newenvironment{caja}[1]{\begin{beamerboxesrounded}[shadow=true]{#1}}
                        {\end{beamerboxesrounded}}


%%%%%%%%%%%%%%%%%%%%%%
% Full screen images %
%%%%%%%%%%%%%%%%%%%%%%
\def\resizeimagetofitpage#1{%
  \adjustbox{max size={0.99\paperwidth}{0.99\paperheight}, clip=true}%
  {\includegraphics[max size={0.99\paperwidth}{0.99\paperheight}]{#1}}%
}

\newenvironment{backimage}[1]
{   %
  % Image HAS to be wider than taller.
  % 
  \usebackgroundtemplate{%
    \begin{tikzpicture}
      \draw[fill=white] (0,0) rectangle (\paperwidth, \paperheight);
      \node[anchor=center, inner sep=0pt, rectangle]
      at (.5\paperwidth,.5\paperheight)
      {\makebox[0pt]{\resizeimagetofitpage{#1}}};
    \end{tikzpicture}
  }
}{}

\newcommand{\fsslide}[1]{
{
  \thispagestyle{empty}

  \begin{backimage}{#1}
    \begin{frame}
    \end{frame}
  \end{backimage}
}
}

\endinput
